import{d as y,a9 as O,e as _,_ as D,r as l,o as h,f as A,g as a,j as c,I as C,k as B,H as S,ae as W,bk as j,bl as q,bm as T,b as z,bn as L,c as w,aa as V,O as N,a2 as x,a8 as R,t as U,W as H,a5 as J,l as k,F as K,P,G as I,J as Q,K as X}from"./75bbe58a.js";import{u as Y}from"./60edd6a5.js";import{d as G}from"./index.js";import{E as Z}from"./7e3d04ab.js";import"./04ee1aa4.js";import"./8e76c846.js";const ee=y({emits:["onClose"],components:{Close:O},setup(e,t){const{onAppStore:d}=Y(),r=_("wechat-show"),n=_(null),v=()=>{t.emit("onClose"),n.value.removeEventListener("animationend",v)};return{onClose:()=>{r.value="wechat-hide",n.value.addEventListener("animationend",v)},onOpen:()=>{d()},animateClass:r,wechat:n}}}),te={class:"wechat-body"},ae={class:"five-star-area"},se=W('<div class="msg" data-v-783b9cdd>Scan The Code To Follow The Public Account</div><div class="warp" data-v-783b9cdd><img class="img" src="https://resource.withpinbox.com/f/a96eb6a954/image/20231113/f26f648d-5a7a-48aa-93a1-d0f817f13b7a.jpeg" data-v-783b9cdd></div><div class="msg" data-v-783b9cdd>Enter The Product Discussion Group</div><div class="flex-c" data-v-783b9cdd><div class="emojis" data-v-783b9cdd><div class="emoji emoji-center" data-v-783b9cdd>\u{1F929}</div><div class="emoji emoji-left" data-v-783b9cdd>❤️</div><div class="emoji emoji-right" data-v-783b9cdd>❤️</div></div></div><b class="b" data-v-783b9cdd>\u{1F449}Do You Like Our Products?？</b><b class="b" data-v-783b9cdd>Please Give Us Five Stars In The App Store，To Help Us Grow</b>',6);function oe(e,t,d,r,n,v){const p=l("Close"),u=l("el-icon"),f=l("EtabIcon");return h(),A("section",{class:S(["wechat",[e.animateClass]]),ref:"wechat"},[a("div",{class:"etab-dialog__headerbtn flex-cc",onClick:t[0]||(t[0]=B((...m)=>e.onClose&&e.onClose(...m),["stop"]))},[c(u,null,{default:C(()=>[c(p)]),_:1})]),a("div",te,[a("div",ae,[se,a("span",{class:"arrow",onClick:t[1]||(t[1]=(...m)=>e.onOpen&&e.onOpen(...m))},[c(f,{size:20,name:"chatgpt-left"})])])])],2)}var ne=D(ee,[["render",oe],["__scopeId","data-v-783b9cdd"]]);const ue=y({emits:["onClose"],components:{ElForm:j,ElFormItem:q,ElInput:T},setup(e,t){const d=_(null),r=_({name:null}),n=z({name:[{required:!0,message:"Please Enter The Name",trigger:"blur"},{min:1,max:5,message:"Please Enter1Arrive5Individual Character",trigger:"blur"}],url:[{required:!0,validator:L,trigger:"blur"}]});return{qfrom:r,onClose:()=>{t.emit("onClose","")},ruleFormRef:d,submitForm:()=>{!d.value||d.value.validate(u=>{u&&t.emit("onClose",r.value)})},rules:n}}}),le={class:"chat-gpt-add"},de=V(" Add To ");function ie(e,t,d,r,n,v){const p=l("el-input"),u=l("el-form-item"),f=l("EtabBt"),m=l("el-form"),E=l("EtabModel");return h(),w(E,{modelValue:!0,title:"Add ToChatGptSource",onClosed:e.onClose,width:"520px",customClass:"chat-gpt-add-modal"},{default:C(()=>[a("section",le,[c(m,{ref:"ruleFormRef",model:e.qfrom,rules:e.rules,labelWidth:"60px"},{default:C(()=>[c(u,{label:"Name",prop:"name"},{default:C(()=>[c(p,{modelValue:e.qfrom.name,"onUpdate:modelValue":t[0]||(t[0]=o=>e.qfrom.name=o),placeholder:"Please Enter The Name"},null,8,["modelValue"])]),_:1}),c(u,{label:"Website",prop:"url"},{default:C(()=>[c(p,{modelValue:e.qfrom.url,"onUpdate:modelValue":t[1]||(t[1]=o=>e.qfrom.url=o),placeholder:"Please EnterWebsite"},null,8,["modelValue"])]),_:1}),c(u,null,{default:C(()=>[c(f,{size:"large",class:"mb-10 mt-10",style:{width:"100%"},type:"primary",onOnClick:e.submitForm},{default:C(()=>[de]),_:1},8,["onOnClick"])]),_:1})]),_:1},8,["model","rules"])])]),_:1},8,["onClosed"])}var ce=D(ue,[["render",ie],["__scopeId","data-v-6cc8d6e8"]]);const re=y({name:"Chatgpt",components:{Wechat:ne,ChatGptAdd:ce},setup(){const e=_({url:"",id:"",name:""}),t=_([]),d=_(!1),r=_(!1),n=_(!1),v=_(null),p=()=>{window.appStorage.emit(K.onClose)},u=async s=>{if(await Z.confirm("Whether To Confirm Delete?","Kind Tips",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning"})!=="confirm")return;const g=t.value.findIndex(F=>F.id===s);if(g!=-1){if(t.value.length<=1){P.error("Failed To Delete,最少保留一个Source!");return}t.value.splice(g,1),f([...t.value])}},f=async s=>{await G.setAppStore(I.Gpts,{data:s,updateTime:new Date().getTime()})},m=s=>{n.value=!0;const i=t.value[s];e.value.id=i.id,e.value.name=i.name,e.value.url=i.url+"?hasu="+new Date().getTime(),v.value.onload=()=>{n.value=!1}},E=async()=>{const s=await G.getAppStore(I.Gpts),i=s&&s.data||[];return i.length<1?[{name:"Wen Xinyan",id:"0",url:"https://yiyan.baidu.com/"},{name:"FreeChatGpt-(A)",id:"2",url:"https://freegpt.zanglikun.com/"},{name:"FreeChatGpt-(B)",id:"1",url:"https://chat18.aichatos.xyz"}]:i},o=async s=>{if(d.value=!1,s){const i=await E(),g={},F=[].concat(i).concat([{name:s.name,id:new Date().getTime().toString(),url:s.url}]).filter(b=>(g[b.id]?g[b.id]+=1:g[b.id]=0,!(g[b.id]>0))).sort((b,M)=>b.id-M.id);await f(F),t.value=F}};return N(async()=>{const s=await E();t.value=s,m(0)}),{onClose:p,onChange:m,isGptAdd:d,appInfo:e,apps:t,isWechat:r,onCloseAdd:o,onRemove:u,iframe:v,isloading:n}}}),$=e=>(Q("data-v-342ee8d9"),e=e(),X(),e),pe={class:"chatgpt-box"},me={class:"chatgpt-left"},_e={class:"chatgpt-header"},ve={class:"chatgpt-chat"},fe=$(()=>a("span",{class:"ml-5"},"Official Wechat Group",-1)),he={class:"chatgpt-apps flex-cc"},Ce=["onClick"],ge=["onClick"],Ee=$(()=>a("span",{class:"add"},"+",-1)),be=$(()=>a("span",{class:"ml-10"},"Add ToSource",-1)),Fe=[Ee,be],Ae={class:"chatgpt-right"},we=["src"];function Be(e,t,d,r,n,v){const p=l("EtabIcon"),u=l("Wechat"),f=l("ChatGptAdd"),m=l("EtabModel"),E=x("loading");return h(),w(m,{modelValue:!0,onClosed:e.onClose,width:"1280px",customClass:"chatgpt"},{default:C(()=>[a("section",pe,[a("div",me,[a("div",_e,[a("div",ve,[a("div",{class:"action action-s",onClick:t[0]||(t[0]=o=>e.isWechat=!0)},[c(p,{size:20,name:"chatgpt-wechat"}),fe])])]),a("div",he,[(h(!0),A(H,null,R(e.apps,(o,s)=>(h(),A("div",{class:S(["app",{ac:o.id===e.appInfo.id}]),onClick:B(i=>e.onChange(s),["stop"]),key:o.id},[V(U(o.name)+" ",1),a("span",{class:"app-close flex-cc",onClick:B(i=>e.onRemove(o.id),["stop"])},"x",8,ge)],10,Ce))),128)),a("div",{class:"app flex-c app-bt",onClick:t[1]||(t[1]=o=>e.isGptAdd=!0)},Fe)])]),J((h(),A("div",Ae,[a("iframe",{ref:"iframe",src:e.appInfo.url},null,8,we)])),[[E,e.isloading]]),e.isWechat?(h(),w(u,{key:0,onOnClose:t[2]||(t[2]=o=>e.isWechat=!1)})):k("",!0),e.isGptAdd?(h(),w(f,{key:1,width:"400px",onOnClose:e.onCloseAdd},null,8,["onOnClose"])):k("",!0)])]),_:1},8,["onClosed"])}var Se=D(re,[["render",Be],["__scopeId","data-v-342ee8d9"]]);export{Se as default};
