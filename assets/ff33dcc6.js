import{ax as q,aU as F,aq as G,aV as N,as as V,b0 as I,aW as S,b9 as B,ba as P,d as J,aS as Q,b7 as R,bb as X,bc as Y,a as m,az as Z,bd as _,be as x,e as T,bf as ee,w as E,bg as ae,O as ie,ay as ne,n as se,bh as K,aj as le,r as O,o as a,f as d,g as p,H as t,a3 as te,c,I as b,U as w,l,t as C,W as $,j as oe,ad as de,k as ce,aJ as re}from"./75bbe58a.js";import{i as ue}from"./8e76c846.js";const ve=q({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:F,default:""},inactiveIcon:{type:F,default:""},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:G(Function)},size:{type:String,validator:ue}}),he={[N]:e=>V(e)||I(e)||S(e),[B]:e=>V(e)||I(e)||S(e),[P]:e=>V(e)||I(e)||S(e)},A="ElSwitch",fe=J({name:A,components:{ElIcon:Q,Loading:R},props:ve,emits:he,setup(e,{emit:s}){const{formItem:h}=X(),y=Y(m(()=>e.loading)),v=Z("switch"),{inputId:D}=_(e,{formItemContext:h}),u=x(),f=T(e.modelValue!==!1),o=T(),z=T(),W=m(()=>[v.b(),v.m(u.value),v.is("disabled",y.value),v.is("checked",r.value)]),j=m(()=>({width:ee(e.width)}));E(()=>e.modelValue,()=>{f.value=!0}),E(()=>e.value,()=>{f.value=!1});const M=m(()=>f.value?e.modelValue:e.value),r=m(()=>M.value===e.activeValue);[e.activeValue,e.inactiveValue].includes(M.value)||(s(N,e.inactiveValue),s(B,e.inactiveValue),s(P,e.inactiveValue)),E(r,()=>{var i;o.value.checked=r.value,(e.activeColor||e.inactiveColor)&&U(),e.validateEvent&&((i=h==null?void 0:h.validate)==null||i.call(h,"change").catch(n=>ae()))});const k=()=>{const i=r.value?e.inactiveValue:e.activeValue;s(N,i),s(B,i),s(P,i),se(()=>{o.value.checked=r.value})},H=()=>{if(y.value)return;const{beforeChange:i}=e;if(!i){k();return}const n=i();[K(n),V(n)].some(g=>g)||le(A,"beforeChange must return type `Promise<boolean>` or `boolean`"),K(n)?n.then(g=>{g&&k()}).catch(g=>{}):n&&k()},U=()=>{const i=r.value?e.activeColor:e.inactiveColor,n=z.value;e.borderColor?n.style.borderColor=e.borderColor:e.borderColor||(n.style.borderColor=i),n.style.backgroundColor=i,n.children[0].style.color=i},L=()=>{var i,n;(n=(i=o.value)==null?void 0:i.focus)==null||n.call(i)};return ie(()=>{(e.activeColor||e.inactiveColor||e.borderColor)&&U(),o.value.checked=r.value}),{ns:v,input:o,inputId:D,core:z,switchDisabled:y,checked:r,switchKls:W,coreStyle:j,handleChange:k,switchValue:H,focus:L}}}),me=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled"],be=["aria-hidden"],ye=["aria-hidden"],ke=["aria-hidden"],ge=["aria-hidden"];function we(e,s,h,y,v,D){const u=O("el-icon"),f=O("loading");return a(),d("div",{class:t(e.switchKls),onClick:s[2]||(s[2]=ce((...o)=>e.switchValue&&e.switchValue(...o),["prevent"]))},[p("input",{id:e.inputId,ref:"input",class:t(e.ns.e("input")),type:"checkbox",role:"switch","aria-checked":e.checked,"aria-disabled":e.switchDisabled,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:e.switchDisabled,onChange:s[0]||(s[0]=(...o)=>e.handleChange&&e.handleChange(...o)),onKeydown:s[1]||(s[1]=te((...o)=>e.switchValue&&e.switchValue(...o),["enter"]))},null,42,me),!e.inlinePrompt&&(e.inactiveIcon||e.inactiveText)?(a(),d("span",{key:0,class:t([e.ns.e("label"),e.ns.em("label","left"),e.ns.is("active",!e.checked)])},[e.inactiveIcon?(a(),c(u,{key:0},{default:b(()=>[(a(),c(w(e.inactiveIcon)))]),_:1})):l("v-if",!0),!e.inactiveIcon&&e.inactiveText?(a(),d("span",{key:1,"aria-hidden":e.checked},C(e.inactiveText),9,be)):l("v-if",!0)],2)):l("v-if",!0),p("span",{ref:"core",class:t(e.ns.e("core")),style:de(e.coreStyle)},[e.inlinePrompt?(a(),d("div",{key:0,class:t(e.ns.e("inner"))},[e.activeIcon||e.inactiveIcon?(a(),d($,{key:0},[e.activeIcon?(a(),c(u,{key:0,class:t([e.ns.is("icon"),e.checked?e.ns.is("show"):e.ns.is("hide")])},{default:b(()=>[(a(),c(w(e.activeIcon)))]),_:1},8,["class"])):l("v-if",!0),e.inactiveIcon?(a(),c(u,{key:1,class:t([e.ns.is("icon"),e.checked?e.ns.is("hide"):e.ns.is("show")])},{default:b(()=>[(a(),c(w(e.inactiveIcon)))]),_:1},8,["class"])):l("v-if",!0)],64)):e.activeText||e.inactiveIcon?(a(),d($,{key:1},[e.activeText?(a(),d("span",{key:0,class:t([e.ns.is("text"),e.checked?e.ns.is("show"):e.ns.is("hide")]),"aria-hidden":!e.checked},C(e.activeText.substring(0,3)),11,ye)):l("v-if",!0),e.inactiveText?(a(),d("span",{key:1,class:t([e.ns.is("text"),e.checked?e.ns.is("hide"):e.ns.is("show")]),"aria-hidden":e.checked},C(e.inactiveText.substring(0,3)),11,ke)):l("v-if",!0)],64)):l("v-if",!0)],2)):l("v-if",!0),p("div",{class:t(e.ns.e("action"))},[e.loading?(a(),c(u,{key:0,class:t(e.ns.is("loading"))},{default:b(()=>[oe(f)]),_:1},8,["class"])):l("v-if",!0)],2)],6),!e.inlinePrompt&&(e.activeIcon||e.activeText)?(a(),d("span",{key:1,class:t([e.ns.e("label"),e.ns.em("label","right"),e.ns.is("active",e.checked)])},[e.activeIcon?(a(),c(u,{key:0},{default:b(()=>[(a(),c(w(e.activeIcon)))]),_:1})):l("v-if",!0),!e.activeIcon&&e.activeText?(a(),d("span",{key:1,"aria-hidden":!e.checked},C(e.activeText),9,ge)):l("v-if",!0)],2)):l("v-if",!0)],2)}var Ce=ne(fe,[["render",we],["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const Te=re(Ce);export{Te as E};
