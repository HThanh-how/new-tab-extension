import{e as l,A as f,n as d,d as m,O as u,w as _,_ as v,r,o as R,c as h,I as A,j as p,H as k,k as g}from"./75bbe58a.js";import{r as C}from"./index.js";function B(e){const n=l(null),a=l(!1),o=()=>{a.value=!1,e()},t=async()=>{await d(),n.value&&n.value.$el&&n.value.$el.addEventListener("webkitAnimationIteration",o,!1)},s=i=>{a.value=i};return f(()=>{n.value&&n.value.$el&&n.value.$el.removeEventListener("webkitAnimationIteration",o)}),{animateRef:n,onBindAnimate:t,isAnimate:a,onAnimate:s}}const $=m({name:"EtabReload",components:{RefreshRight:C},emits:["onReload"],props:{isAuto:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},setup(e,n){const{animateRef:a,isAnimate:o,onAnimate:t,onBindAnimate:s}=B(()=>{e.loading||n.emit("onReload"),t(e.loading)}),i=()=>{t(!0),e.isAuto&&n.emit("onReload")};return u(()=>{e.isAuto?_(e,()=>{e.loading||t(!1)}):s()}),{onClickBt:i,isAnimate:o,animateRef:a}}});function w(e,n,a,o,t,s){const i=r("RefreshRight"),c=r("el-icon");return R(),h(c,{ref:"animateRef",class:k({rotateCls:e.isAnimate}),onClick:g(e.onClickBt,["stop"])},{default:A(()=>[p(i)]),_:1},8,["class","onClick"])}var E=v($,[["render",w],["__scopeId","data-v-71614ba2"]]);export{E};
